Sphinx Documentation Build
==========================

This directory contains the Sphinx documentation configuration and source files for generating the PurpleAir API documentation.

Directory Structure
-------------------

::

   sphinx_docs_build/
   ├── Makefile           # Build automation for Unix-like systems
   ├── make.bat           # Build automation for Windows
   ├── requirements.txt   # Python dependencies for building docs
   └── source/            # Documentation source files
       ├── conf.py        # Sphinx configuration
       ├── index.rst      # Main documentation page
       ├── modules.rst    # Module index
       ├── _static/       # Static files (CSS, images, etc.)
       └── *.rst          # Individual module documentation files

Building Documentation
----------------------

Prerequisites
~~~~~~~~~~~~~

Install the required dependencies:

.. code-block:: bash

   python3 -m pip install -r requirements.txt

Install the purpleair_api package in development mode (required for autodoc):

.. code-block:: bash

   cd ..
   python3 -m pip install -e .

Building HTML Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~

To build the HTML documentation:

.. code-block:: bash

   make html

The generated HTML files will be in ``../docs/html/``

Cleaning Build Files
~~~~~~~~~~~~~~~~~~~~

To remove previously built documentation:

.. code-block:: bash

   make clean

Viewing Documentation
~~~~~~~~~~~~~~~~~~~~~

After building, open the documentation in your browser:

.. code-block:: bash

   # On macOS
   open ../docs/html/index.html
   
   # On Linux
   xdg-open ../docs/html/index.html
   
   # On Windows
   start ../docs/html/index.html

Configuration
-------------

The main configuration file is ``source/conf.py``. Key settings include:

* **Project name and version**: Set in the metadata section
* **Extensions**: Currently using ``sphinx.ext.autodoc`` for automatic API documentation
* **Theme**: Using ``sphinx_rtd_theme`` (Read the Docs theme)
* **Static files**: Located in ``source/_static/``

Adding New Modules
------------------

When adding new Python modules to the package:

1. Create a corresponding ``.rst`` file in the ``source/`` directory
2. Add the module to ``source/modules.rst``
3. Rebuild the documentation

The ``.rst`` file should follow this template:

.. code-block:: rst

   ModuleName module
   =================
   
   .. automodule:: ModuleName
      :members:
      :undoc-members:
      :show-inheritance:

Troubleshooting
---------------

Import Errors
~~~~~~~~~~~~~

If you see import errors when building, ensure:

1. The ``purpleair_api`` package is installed (``pip install -e ..``)
2. The path in ``conf.py`` correctly points to the package directory
3. All required dependencies are installed

Missing Static Directory Warning
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you see a warning about ``_static`` not existing, create it:

.. code-block:: bash

   mkdir -p source/_static

Documentation Not Updating
~~~~~~~~~~~~~~~~~~~~~~~~~~

If changes aren't reflected in the built documentation:

1. Run ``make clean`` to remove cached files
2. Rebuild with ``make html``
3. Clear your browser cache if viewing in a browser

----

*This content was generated by AI and reviewed by humans. Mistakes may still occur. PRs for corrections are welcome.*
